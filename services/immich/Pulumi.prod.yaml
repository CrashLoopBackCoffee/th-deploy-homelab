environment:
  - kubernetes/kubeconfig-prod
  - kubernetes/postgres-backup-prod

config:
  immich:config:
    cloudflare:
      api-key:
        ref: op://Pulumi/Cloudflare Global API Key/password
      email: tobias_henkel@gmx.de
      zone: tobiash.net
    immich:
      # renovate: datasource=github-releases packageName=immich-app/immich versioning=semver
      version: 2.2.1
      # renovate: datasource=helm registryUrl=oci://ghcr.io/immich-app packageName=immich-charts
      chart-version: "0.10.0"
      persistence:
        library:
          nfs-server: synology.tobiash.net
          nfs-path: /volume2/photo/immich
          nfs-mount-options: "nfsvers=4.1,sec=sys"
          size: "100Gi"
        handy:
          nfs-server: synology.tobiash.net
          nfs-path: /volume2/photo/Handy
          nfs-mount-options: "nfsvers=4.1,sec=sys"
          size: "10Gi"
        bilder:
          nfs-server: synology.tobiash.net
          nfs-path: /volume2/photo/Bilder
          nfs-mount-options: "nfsvers=4.1,sec=sys"
          size: "10Gi"
    postgres:
      # renovate: datasource=endoflife-date packageName=postgresql versioning=loose
      version: "17.6"
      # renovate: datasource=github-releases packageName=tensorchord/VectorChord versioning=loose
      vectorchord-version: "0.5.3"
      backup:
        cron-schedule: "0 0 0 * * *"
